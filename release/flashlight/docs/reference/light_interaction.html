<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Interaction Strength — light_interaction • flashlight</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Interaction Strength — light_interaction" />
<meta property="og:description" content="This function provides Friedman's H statistic for overall interaction strength per covariable as well as its version for pairwise interactions, see reference below. As a fast alterantive to assess overall interaction strength, with type = &quot;ice&quot;, the function offers a method based on centered ICE curves: The corresponding H* statistic measures how much of the variability of a c-ICE curve is unexplained by the main effect. As for Friedman's H statistic, it can be useful to consider unnormalized or squared values (see Details below)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flashlight</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/flashlight.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mayer79/flashlight/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Interaction Strength</h1>
    <small class="dont-index">Source: <a href='https://github.com/mayer79/flashlight/blob/master/R/light_interaction.R'><code>R/light_interaction.R</code></a></small>
    <div class="hidden name"><code>light_interaction.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function provides Friedman's H statistic for overall interaction strength per covariable as well as its version for pairwise interactions, see reference below. As a fast alterantive to assess overall interaction strength, with <code>type = "ice"</code>, the function offers a method based on centered ICE curves: The corresponding H* statistic measures how much of the variability of a c-ICE curve is unexplained by the main effect. As for Friedman's H statistic, it can be useful to consider unnormalized or squared values (see Details below).</p>
    </div>

    <pre class="usage"><span class='fu'>light_interaction</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>light_interaction</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for flashlight</span>
<span class='fu'>light_interaction</span>(
  <span class='no'>x</span>,
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>x</span>$<span class='no'>data</span>,
  <span class='kw'>by</span> <span class='kw'>=</span> <span class='no'>x</span>$<span class='no'>by</span>,
  <span class='kw'>v</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>pairwise</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"H"</span>, <span class='st'>"ice"</span>),
  <span class='kw'>normalize</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>take_sqrt</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>grid_size</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>n_max</span> <span class='kw'>=</span> <span class='fl'>500</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>use_linkinv</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>value_name</span> <span class='kw'>=</span> <span class='st'>"value"</span>,
  <span class='kw'>error_name</span> <span class='kw'>=</span> <span class='st'>"error"</span>,
  <span class='kw'>label_name</span> <span class='kw'>=</span> <span class='st'>"label"</span>,
  <span class='kw'>variable_name</span> <span class='kw'>=</span> <span class='st'>"variable"</span>,
  <span class='kw'>type_name</span> <span class='kw'>=</span> <span class='st'>"type"</span>,
  <span class='no'>...</span>
)

<span class='co'># S3 method for multiflashlight</span>
<span class='fu'>light_interaction</span>(<span class='no'>x</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object of class <code>flashlight</code> or <code>multiflashlight</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to or from other methods.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>An optional <code>data.frame</code>.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>An optional vector of column names used to additionally group the results.</p></td>
    </tr>
    <tr>
      <th>v</th>
      <td><p>Vector of variables to be assessed.</p></td>
    </tr>
    <tr>
      <th>pairwise</th>
      <td><p>Should overall interaction strength per variable be shown or pairwise interactions? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Are measures based on Friedman's H statistic ("H") or on "ice" curves? Option "ice" is available only if <code>pairwise = FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>normalize</th>
      <td><p>Should the variances explained be normalized? Default is <code>TRUE</code> in order to reproduce Friedman's H statistic.</p></td>
    </tr>
    <tr>
      <th>take_sqrt</th>
      <td><p>In order to reproduce Friedman's H statistic, resulting values are root transformed. Set to <code>FALSE</code> if squared values should be returned.</p></td>
    </tr>
    <tr>
      <th>grid_size</th>
      <td><p>Grid size used to form the outer product. Will be randomly picked from data (after limiting to <code>n_max</code>).</p></td>
    </tr>
    <tr>
      <th>n_max</th>
      <td><p>Maximum number of data rows to consider. Will be randomly picked from <code>data</code> if necessary.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>An integer random seed used for subsampling.</p></td>
    </tr>
    <tr>
      <th>use_linkinv</th>
      <td><p>Should retransformation function be applied? Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>value_name</th>
      <td><p>Column name in resulting <code>data</code> containing the interaction strenght. Defaults to "value".</p></td>
    </tr>
    <tr>
      <th>error_name</th>
      <td><p>Currently not used.</p></td>
    </tr>
    <tr>
      <th>label_name</th>
      <td><p>Column name in resulting <code>data</code> containing the label of the flashlight. Defaults to "label".</p></td>
    </tr>
    <tr>
      <th>variable_name</th>
      <td><p>Column name in resulting <code>data</code> containing the variable names. Defaults to "variable".</p></td>
    </tr>
    <tr>
      <th>type_name</th>
      <td><p>Column name in the resulting <code>data</code> with the plot <code>type</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>light_importance</code>, <code>light</code> (and a list) with the following elements.</p><ul>
<li><p><code>data</code> A tibble containing the results. Can be used to build fully customized visualizations. Its column names are specified by the items in this list (except for "method").</p></li>
<li><p><code>by</code> Same as input <code>by</code>.</p></li>
<li><p><code>type</code> Same as input <code>type</code>. For information only.</p></li>
<li><p><code>value_name</code> Same as input <code>value_name</code>.</p></li>
<li><p><code>error_name</code> Same as input <code>error_name</code>.</p></li>
<li><p><code>label_name</code> Same as input <code>label_name</code>.</p></li>
<li><p><code>variable_name</code> Same as input <code>variable_name</code>.</p></li>
<li><p><code>type_name</code> Same as input <code>type_name</code>.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Friedman's H statistic relates the interaction strength of a variable (pair) to the total effect strength of that variable (pair) based on partial dependence curves. Due to this normalization step, even variables with low importance can have high values for H. The function <code>light_interaction</code> offers the option to skip this normalization step in order to have a more direct comparison of the interaction effects across variable (pairs). The values of such unnormalized H are on the scale of the response variable. Use <code>take_sqrt = FALSE</code> to return squared values of H. Note that in general, for each variable (pair) predictions are done on a data set with <code>grid_size * n_max</code>, so be cautious with increasing the defaults too much. Still, even with larger <code>grid_size</code> and <code>n_max</code>, there might be considerable variation across different runs, thus setting a seed might be required for reproducibility. The minimum required elements in the (multi-) flashlight are a "predict_function", "model", and "data".</p>
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    
<ul>
<li><p><code>default</code>: Default method not implemented yet.</p></li>
<li><p><code>flashlight</code>: Interaction strengths for a flashlight object.</p></li>
<li><p><code>multiflashlight</code>: for a multiflashlight object.</p></li>
</ul>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Friedman, J. H. and Popescu, B. E. (2008). “Predictive learning via rule ensembles.” The Annals of Applied Statistics. JSTOR, 916–54.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='light_ice.html'>light_ice</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>fit_additive</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>Sepal.Length</span> ~ <span class='no'>Petal.Length</span> + <span class='no'>Petal.Width</span> + <span class='no'>Species</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>)
<span class='no'>fit_nonadditive</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>Sepal.Length</span> ~ <span class='no'>Petal.Length</span> * <span class='no'>Petal.Width</span> + <span class='no'>Species</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>)
<span class='no'>fl_additive</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='flashlight.html'>flashlight</a></span>(<span class='kw'>model</span> <span class='kw'>=</span> <span class='no'>fit_additive</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"additive"</span>)
<span class='no'>fl_nonadditive</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='flashlight.html'>flashlight</a></span>(<span class='kw'>model</span> <span class='kw'>=</span> <span class='no'>fit_nonadditive</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"nonadditive"</span>)
<span class='no'>fls</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='multiflashlight.html'>multiflashlight</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='no'>fl_additive</span>, <span class='no'>fl_nonadditive</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='st'>"Sepal.Length"</span>)
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='no'>fls</span>$<span class='no'>nonadditive</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>st</span> <span class='kw'>&lt;-</span> <span class='fu'>light_interaction</span>(<span class='no'>fls</span>))</div><div class='img'><img src='light_interaction-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='fu'>light_interaction</span>(<span class='no'>fls</span>, <span class='kw'>pairwise</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='img'><img src='light_interaction-2.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michael Mayer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


